
<!DOCTYPE html>

<html lang="zh-CN">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width,initial-scale=1">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <meta name="lang:clipboard.copy" content="Copy to clipboard">
  <meta name="lang:clipboard.copied" content="Copied to clipboard">
  <meta name="lang:search.language" content="en">
  <meta name="lang:search.pipeline.stopwords" content="True">
  <meta name="lang:search.pipeline.trimmer" content="True">
  <meta name="lang:search.result.none" content="No matching documents">
  <meta name="lang:search.result.one" content="1 matching document">
  <meta name="lang:search.result.other" content="# matching documents">
  <meta name="lang:search.tokenizer" content="[\s\-]+">

  
    <link href="https://fonts.gstatic.com/" rel="preconnect" crossorigin>
    <link href="https://fonts.googleapis.com/css?family=Roboto+Mono:400,500,700|Roboto:300,400,400i,700&display=fallback" rel="stylesheet">

    <style>
      body,
      input {
        font-family: "Roboto", "Helvetica Neue", Helvetica, Arial, sans-serif
      }

      code,
      kbd,
      pre {
        font-family: "Roboto Mono", "Courier New", Courier, monospace
      }
    </style>
  

  <link rel="stylesheet" href="../_static/stylesheets/application.css"/>
  <link rel="stylesheet" href="../_static/stylesheets/application-palette.css"/>
  <link rel="stylesheet" href="../_static/stylesheets/application-fixes.css"/>
  
  <link rel="stylesheet" href="../_static/fonts/material-icons.css"/>
  
  <meta name="theme-color" content="#3f51b5">
  <script src="../_static/javascripts/modernizr.js"></script>
  
  
  
    <title>General information about the WiPy &#8212; MicroPython 1.18 文档</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/material.css" />
    <link rel="stylesheet" href="../_static/customstyle.css" type="text/css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/translations.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="index" title="索引" href="../genindex.html" />
    <link rel="search" title="搜索" href="../search.html" />
    <link rel="next" title="WiPy tutorials and examples" href="tutorial/index.html" />
    <link rel="prev" title="Quick reference for the WiPy" href="quickref.html" />
  
   

  </head>
  <body dir=ltr
        data-md-color-primary=blue data-md-color-accent=light-blue>
  
  <svg class="md-svg">
    <defs data-children-count="0">
      
      <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="__github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
      
    </defs>
  </svg>
  
  <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer">
  <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search">
  <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
  <a href="#wipy/general" tabindex="1" class="md-skip"> Skip to content </a>
  <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex navheader">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="../index.html" title="MicroPython 1.18 文档"
           class="md-header-nav__button md-logo">
          
            &nbsp;
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          <span class="md-header-nav__topic">MicroPython 1.18 文档</span>
          <span class="md-header-nav__topic"> General information about the WiPy </span>
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
        
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" action="../search.html" method="get" name="search">
      <input type="text" class="md-search__input" name="q" placeholder="Search"
             autocapitalize="off" autocomplete="off" spellcheck="false"
             data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>

      </div>
      
      
  
  <script src="../_static/javascripts/version_dropdown.js"></script>
  <script>
    var json_loc = "../"versions.json"",
        target_loc = "../../",
        text = "Versions";
    $( document ).ready( add_version_dropdown(json_loc, target_loc, text));
  </script>
  

    </div>
  </nav>
</header>

  
  <div class="md-container">
    
    
    
  <nav class="md-tabs" data-md-component="tabs">
    <div class="md-tabs__inner md-grid">
      <ul class="md-tabs__list">
          <li class="md-tabs__item"><a href="../index.html" class="md-tabs__link">MicroPython 1.18 文档</a></li>
          <li class="md-tabs__item"><a href="quickref.html" class="md-tabs__link">Quick reference for the WiPy</a></li>
      </ul>
    </div>
  </nav>
    <main class="md-main">
      <div class="md-main__inner md-grid" data-md-component="container">
        
          <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
            <div class="md-sidebar__scrollwrap">
              <div class="md-sidebar__inner">
                <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="../index.html" title="MicroPython 1.18 文档" class="md-nav__button md-logo">
      
        <img src="../_static/" alt=" logo" width="48" height="48">
      
    </a>
    <a href="../index.html"
       title="MicroPython 1.18 文档">MicroPython 1.18 文档</a>
  </label>
  

  
  <ul class="md-nav__list">
    <li class="md-nav__item">
    
    
      <a href="../library/index.html" class="md-nav__link">MicroPython 库</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../reference/index.html" class="md-nav__link">MicroPython 语言与实现</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../genrst/index.html" class="md-nav__link">MicroPython differences from CPython</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../develop/index.html" class="md-nav__link">MicroPython 内部实现</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../license.html" class="md-nav__link">MicroPython 开源协议信息</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../pyboard/quickref.html" class="md-nav__link">Quick reference for the pyboard</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../esp8266/quickref.html" class="md-nav__link">Quick reference for the ESP8266</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../esp32/quickref.html" class="md-nav__link">Quick reference for the ESP32</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../rp2/quickref.html" class="md-nav__link">Quick reference for the RP2</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="quickref.html" class="md-nav__link">Quick reference for the WiPy</a>
      <ul class="md-nav__list"> 
    <li class="md-nav__item">
    
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    <label class="md-nav__link md-nav__link--active" for="__toc"> General information about the WiPy </label>
    
      <a href="#" class="md-nav__link md-nav__link--active">General information about the WiPy</a>
      
        
<nav class="md-nav md-nav--secondary">
    <label class="md-nav__title" for="__toc">Contents</label>
  <ul class="md-nav__list" data-md-scrollfix="">
        <li class="md-nav__item"><a href="#wipy-general--page-root" class="md-nav__link">General information about the WiPy</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#no-floating-point-support" class="md-nav__link">No floating point support</a>
        </li>
        <li class="md-nav__item"><a href="#before-applying-power" class="md-nav__link">Before applying power</a>
        </li>
        <li class="md-nav__item"><a href="#wlan-default-behaviour" class="md-nav__link">WLAN default behaviour</a>
        </li>
        <li class="md-nav__item"><a href="#telnet-repl" class="md-nav__link">Telnet REPL</a>
        </li>
        <li class="md-nav__item"><a href="#local-file-system-and-ftp-access" class="md-nav__link">Local file system and FTP access</a>
        </li>
        <li class="md-nav__item"><a href="#filezilla-settings" class="md-nav__link">FileZilla settings</a>
        </li>
        <li class="md-nav__item"><a href="#upgrading-the-firmware-over-the-air" class="md-nav__link">Upgrading the firmware Over The Air</a>
        </li>
        <li class="md-nav__item"><a href="#boot-modes-and-safe-boot" class="md-nav__link">Boot modes and safe boot</a>
        </li>
        <li class="md-nav__item"><a href="#the-heartbeat-led" class="md-nav__link">The heartbeat LED</a>
        </li>
        <li class="md-nav__item"><a href="#details-on-sleep-modes" class="md-nav__link">Details on sleep modes</a>
        </li>
        <li class="md-nav__item"><a href="#additional-details-for-machine-pin" class="md-nav__link">Additional details for machine.Pin</a>
        </li>
        <li class="md-nav__item"><a href="#additional-details-for-machine-i2c" class="md-nav__link">Additional details for machine.I2C</a>
        </li>
        <li class="md-nav__item"><a href="#known-issues" class="md-nav__link">Known issues</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#incompatible-way-to-create-ssl-sockets" class="md-nav__link">Incompatible way to create SSL sockets</a>
        </li>
        <li class="md-nav__item"><a href="#incompatibilities-in-hashlib-module" class="md-nav__link">Incompatibilities in hashlib module</a>
        </li>
        <li class="md-nav__item"><a href="#unrelated-function-in-machine-module" class="md-nav__link">Unrelated function in machine module</a>
        </li>
        <li class="md-nav__item"><a href="#adhoc-way-to-control-telnet-ftp-server-via-network-module" class="md-nav__link">Adhoc way to control telnet/FTP server via network module</a>
        </li>
        <li class="md-nav__item"><a href="#adhoc-vfs-like-support" class="md-nav__link">Adhoc VFS-like support</a>
        </li></ul>
            </nav>
        </li></ul>
            </nav>
        </li>
  </ul>
</nav>
      <ul class="md-nav__list"> 
    <li class="md-nav__item">
    
    
      <a href="#no-floating-point-support" class="md-nav__link">No floating point support</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="#before-applying-power" class="md-nav__link">Before applying power</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="#wlan-default-behaviour" class="md-nav__link">WLAN default behaviour</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="#telnet-repl" class="md-nav__link">Telnet REPL</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="#local-file-system-and-ftp-access" class="md-nav__link">Local file system and FTP access</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="#filezilla-settings" class="md-nav__link">FileZilla settings</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="#upgrading-the-firmware-over-the-air" class="md-nav__link">Upgrading the firmware Over The Air</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="#boot-modes-and-safe-boot" class="md-nav__link">Boot modes and safe boot</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="#the-heartbeat-led" class="md-nav__link">The heartbeat LED</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="#details-on-sleep-modes" class="md-nav__link">Details on sleep modes</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="#additional-details-for-machine-pin" class="md-nav__link">Additional details for machine.Pin</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="#additional-details-for-machine-i2c" class="md-nav__link">Additional details for machine.I2C</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="#known-issues" class="md-nav__link">Known issues</a>
      <ul class="md-nav__list"> 
    <li class="md-nav__item">
    
    
      <a href="#incompatible-way-to-create-ssl-sockets" class="md-nav__link">Incompatible way to create SSL sockets</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="#incompatibilities-in-hashlib-module" class="md-nav__link">Incompatibilities in hashlib module</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="#unrelated-function-in-machine-module" class="md-nav__link">Unrelated function in machine module</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="#adhoc-way-to-control-telnet-ftp-server-via-network-module" class="md-nav__link">Adhoc way to control telnet/FTP server via network module</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="#adhoc-vfs-like-support" class="md-nav__link">Adhoc VFS-like support</a>
      
    
    </li></ul>
    
    </li></ul>
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="tutorial/index.html" class="md-nav__link">WiPy tutorials and examples</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="quickref.html#general-board-control-including-sleep-modes" class="md-nav__link">General board control (including sleep modes)</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="quickref.html#pins-and-gpio" class="md-nav__link">Pins and GPIO</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="quickref.html#timers" class="md-nav__link">Timers</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="quickref.html#pwm-pulse-width-modulation" class="md-nav__link">PWM (pulse width modulation)</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="quickref.html#adc-analog-to-digital-conversion" class="md-nav__link">ADC (analog to digital conversion)</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="quickref.html#uart-serial-bus" class="md-nav__link">UART (serial bus)</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="quickref.html#spi-bus" class="md-nav__link">SPI bus</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="quickref.html#i2c-bus" class="md-nav__link">I2C bus</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="quickref.html#watchdog-timer-wdt" class="md-nav__link">Watchdog timer (WDT)</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="quickref.html#real-time-clock-rtc" class="md-nav__link">Real time clock (RTC)</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="quickref.html#sd-card" class="md-nav__link">SD card</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="quickref.html#wlan-wifi" class="md-nav__link">WLAN (WiFi)</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="quickref.html#telnet-and-ftp-server" class="md-nav__link">Telnet and FTP server</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="quickref.html#heart-beat-led" class="md-nav__link">Heart beat LED</a>
      
    
    </li></ul>
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../unix/quickref.html" class="md-nav__link">Quick reference for the UNIX and Windows ports</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../zephyr/quickref.html" class="md-nav__link">Zephyr 适配的快速参考</a>
      
    
    </li>
  </ul>
  

</nav>
              </div>
            </div>
          </div>
          <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
            <div class="md-sidebar__scrollwrap">
              <div class="md-sidebar__inner">
                
<nav class="md-nav md-nav--secondary">
    <label class="md-nav__title" for="__toc">Contents</label>
  <ul class="md-nav__list" data-md-scrollfix="">
        <li class="md-nav__item"><a href="#wipy-general--page-root" class="md-nav__link">General information about the WiPy</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#no-floating-point-support" class="md-nav__link">No floating point support</a>
        </li>
        <li class="md-nav__item"><a href="#before-applying-power" class="md-nav__link">Before applying power</a>
        </li>
        <li class="md-nav__item"><a href="#wlan-default-behaviour" class="md-nav__link">WLAN default behaviour</a>
        </li>
        <li class="md-nav__item"><a href="#telnet-repl" class="md-nav__link">Telnet REPL</a>
        </li>
        <li class="md-nav__item"><a href="#local-file-system-and-ftp-access" class="md-nav__link">Local file system and FTP access</a>
        </li>
        <li class="md-nav__item"><a href="#filezilla-settings" class="md-nav__link">FileZilla settings</a>
        </li>
        <li class="md-nav__item"><a href="#upgrading-the-firmware-over-the-air" class="md-nav__link">Upgrading the firmware Over The Air</a>
        </li>
        <li class="md-nav__item"><a href="#boot-modes-and-safe-boot" class="md-nav__link">Boot modes and safe boot</a>
        </li>
        <li class="md-nav__item"><a href="#the-heartbeat-led" class="md-nav__link">The heartbeat LED</a>
        </li>
        <li class="md-nav__item"><a href="#details-on-sleep-modes" class="md-nav__link">Details on sleep modes</a>
        </li>
        <li class="md-nav__item"><a href="#additional-details-for-machine-pin" class="md-nav__link">Additional details for machine.Pin</a>
        </li>
        <li class="md-nav__item"><a href="#additional-details-for-machine-i2c" class="md-nav__link">Additional details for machine.I2C</a>
        </li>
        <li class="md-nav__item"><a href="#known-issues" class="md-nav__link">Known issues</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#incompatible-way-to-create-ssl-sockets" class="md-nav__link">Incompatible way to create SSL sockets</a>
        </li>
        <li class="md-nav__item"><a href="#incompatibilities-in-hashlib-module" class="md-nav__link">Incompatibilities in hashlib module</a>
        </li>
        <li class="md-nav__item"><a href="#unrelated-function-in-machine-module" class="md-nav__link">Unrelated function in machine module</a>
        </li>
        <li class="md-nav__item"><a href="#adhoc-way-to-control-telnet-ftp-server-via-network-module" class="md-nav__link">Adhoc way to control telnet/FTP server via network module</a>
        </li>
        <li class="md-nav__item"><a href="#adhoc-vfs-like-support" class="md-nav__link">Adhoc VFS-like support</a>
        </li></ul>
            </nav>
        </li></ul>
            </nav>
        </li>
  </ul>
</nav>
              </div>
            </div>
          </div>
        
        <div class="md-content">
          <article class="md-content__inner md-typeset" role="main">
            
  <section id="general-information-about-the-wipy">
<span id="wipy-general"></span><h1 id="wipy-general--page-root">General information about the WiPy<a class="headerlink" href="#wipy-general--page-root" title="Permalink to this heading">¶</a></h1>
<section id="no-floating-point-support">
<h2 id="no-floating-point-support">No floating point support<a class="headerlink" href="#no-floating-point-support" title="Permalink to this heading">¶</a></h2>
<p>Due to space reasons, there’s no floating point support, and no math module. This
means that floating point numbers cannot be used anywhere in the code, and that
all divisions must be performed using ‘//’ instead of ‘/’. Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">r</span> <span class="o">=</span> <span class="mi">4</span> <span class="o">//</span> <span class="mi">2</span>  <span class="c1"># this will work</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span> <span class="o">=</span> <span class="mi">4</span> <span class="o">/</span> <span class="mi">2</span>   <span class="c1"># this WON'T</span>
</pre></div>
</div>
</section>
<section id="before-applying-power">
<h2 id="before-applying-power">Before applying power<a class="headerlink" href="#before-applying-power" title="Permalink to this heading">¶</a></h2>
<div class="admonition warning">
<p class="admonition-title">警告</p>
<p>The GPIO pins of the WiPy are NOT 5V tolerant, connecting them to voltages higher
than 3.6V will cause irreparable damage to the board. ADC pins, when configured
in analog mode cannot withstand voltages above 1.8V. Keep these considerations in
mind when wiring your electronics.</p>
</div>
</section>
<section id="wlan-default-behaviour">
<h2 id="wlan-default-behaviour">WLAN default behaviour<a class="headerlink" href="#wlan-default-behaviour" title="Permalink to this heading">¶</a></h2>
<p>When the WiPy boots with the default factory configuration starts in Access Point
mode with <code class="docutils literal notranslate"><span class="pre">ssid</span></code> that starts with: <code class="docutils literal notranslate"><span class="pre">wipy-wlan</span></code> and <code class="docutils literal notranslate"><span class="pre">key:</span> <span class="pre">www.wipy.io</span></code>.
Connect to this network and the WiPy will be reachable at <code class="docutils literal notranslate"><span class="pre">192.168.1.1</span></code>. In order
to gain access to the interactive prompt, open a telnet session to that IP address on
the default port (23). You will be asked for credentials:
<code class="docutils literal notranslate"><span class="pre">login:</span> <span class="pre">micro</span></code> and <code class="docutils literal notranslate"><span class="pre">password:</span> <span class="pre">python</span></code></p>
</section>
<section id="telnet-repl">
<span id="wipy-telnet"></span><h2 id="telnet-repl">Telnet REPL<a class="headerlink" href="#telnet-repl" title="Permalink to this heading">¶</a></h2>
<p>Linux stock telnet works like a charm (also on OSX), but other tools like putty
work quite well too. The default credentials are: <strong>user:</strong> <code class="docutils literal notranslate"><span class="pre">micro</span></code>, <strong>password:</strong> <code class="docutils literal notranslate"><span class="pre">python</span></code>.
See <a class="reference internal" href="#network.Server" title="network.Server"><code class="xref py py-class docutils literal notranslate"><span class="pre">network.Server</span></code></a> for info on how to change the defaults.
For instance, on a linux shell (when connected to the WiPy in AP mode):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ telnet 192.168.1.1
</pre></div>
</div>
</section>
<section id="local-file-system-and-ftp-access">
<span id="wipy-filesystem"></span><h2 id="local-file-system-and-ftp-access">Local file system and FTP access<a class="headerlink" href="#local-file-system-and-ftp-access" title="Permalink to this heading">¶</a></h2>
<p>There is a small internal file system (a drive) on the WiPy, called <code class="docutils literal notranslate"><span class="pre">/flash</span></code>,
which is stored within the external serial flash memory.  If a micro SD card
is hooked-up and mounted, it will be available as well.</p>
<p>When the WiPy starts up, it always boots from the <code class="docutils literal notranslate"><span class="pre">boot.py</span></code> located in the
<code class="docutils literal notranslate"><span class="pre">/flash</span></code> file system. On boot up, the current directory is <code class="docutils literal notranslate"><span class="pre">/flash</span></code>.</p>
<p>The file system is accessible via the native FTP server running in the WiPy.
Open your FTP client of choice and connect to:</p>
<p><strong>url:</strong> <code class="docutils literal notranslate"><span class="pre">ftp://192.168.1.1</span></code>, <strong>user:</strong> <code class="docutils literal notranslate"><span class="pre">micro</span></code>, <strong>password:</strong> <code class="docutils literal notranslate"><span class="pre">python</span></code></p>
<p>See <a class="reference internal" href="#network.Server" title="network.Server"><code class="xref py py-class docutils literal notranslate"><span class="pre">network.Server</span></code></a> for info on how to change the defaults.
The recommended clients are: Linux stock FTP (also in OSX), Filezilla and FireFTP.
For example, on a linux shell:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ ftp 192.168.1.1
</pre></div>
</div>
<p>The FTP server on the WiPy doesn’t support active mode, only passive, therefore,
if using the native unix ftp client, just after logging in do:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ftp</span><span class="o">&gt;</span> <span class="n">passive</span>
</pre></div>
</div>
<p>Besides that, the FTP server only supports one data connection at a time. Check out
the Filezilla settings section below for more info.</p>
</section>
<section id="filezilla-settings">
<h2 id="filezilla-settings">FileZilla settings<a class="headerlink" href="#filezilla-settings" title="Permalink to this heading">¶</a></h2>
<p>Do not use the quick connect button, instead, open the site manager and create a new
configuration. In the <code class="docutils literal notranslate"><span class="pre">General</span></code> tab make sure that encryption is set to: <code class="docutils literal notranslate"><span class="pre">Only</span> <span class="pre">use</span>
<span class="pre">plain</span> <span class="pre">FTP</span> <span class="pre">(insecure)</span></code>. In the Transfer Settings tab limit the max number of connections
to one, otherwise FileZilla will try to open a second command connection when retrieving
and saving files, and for simplicity and to reduce code size, only one command and one
data connections are possible. Other FTP clients might behave in a similar way.</p>
</section>
<section id="upgrading-the-firmware-over-the-air">
<span id="wipy-firmware-upgrade"></span><h2 id="upgrading-the-firmware-over-the-air">Upgrading the firmware Over The Air<a class="headerlink" href="#upgrading-the-firmware-over-the-air" title="Permalink to this heading">¶</a></h2>
<p>OTA software updates can be performed through the FTP server. Upload the <code class="docutils literal notranslate"><span class="pre">mcuimg.bin</span></code> file
to: <code class="docutils literal notranslate"><span class="pre">/flash/sys/mcuimg.bin</span></code> it will take around 6s. You won’t see the file being stored
inside <code class="docutils literal notranslate"><span class="pre">/flash/sys/</span></code> because it’s actually saved bypassing the user file system, so it
ends up inside the internal <strong>hidden</strong> file system, but rest assured that it was successfully
transferred, and it has been signed with a MD5 checksum to verify its integrity. Now, reset
the WiPy by pressing the switch on the board, or by typing:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">machine</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">machine</span><span class="o">.</span><span class="n">reset</span><span class="p">()</span>
</pre></div>
</div>
<p>Software updates can be found in: <a class="reference external" href="https://github.com/wipy/wipy/releases">https://github.com/wipy/wipy/releases</a> (<strong>Binaries.zip</strong>).
It’s always recommended to update to the latest software, but make sure to
read the <strong>release notes</strong> before.</p>
<div class="admonition note">
<p class="admonition-title">备注</p>
<p>The <code class="docutils literal notranslate"><span class="pre">bootloader.bin</span></code> found inside <code class="docutils literal notranslate"><span class="pre">Binaries.zip</span></code> is there only for reference, it’s not
needed for the Over The Air update.</p>
</div>
<p>In order to check your software version, do:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">os</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">os</span><span class="o">.</span><span class="n">uname</span><span class="p">()</span><span class="o">.</span><span class="n">release</span>
</pre></div>
</div>
<p>If the version number is lower than the latest release found in
<a class="reference external" href="https://github.com/wipy/wipy/releases">the releases</a>, go ahead and update your WiPy!</p>
</section>
<section id="boot-modes-and-safe-boot">
<span id="wipy-boot-modes"></span><h2 id="boot-modes-and-safe-boot">Boot modes and safe boot<a class="headerlink" href="#boot-modes-and-safe-boot" title="Permalink to this heading">¶</a></h2>
<p>If you power up normally, or press the reset button, the WiPy will boot
into standard mode; the <code class="docutils literal notranslate"><span class="pre">boot.py</span></code> file will be executed first, then
<code class="docutils literal notranslate"><span class="pre">main.py</span></code> will run.</p>
<p>You can override this boot sequence by pulling <code class="docutils literal notranslate"><span class="pre">GP28</span></code> <strong>up</strong> (connect
it to the 3v3 output pin) during reset. This procedure also allows going
back in time to old firmware versions. The WiPy can hold up to 3 different
firmware versions, which are: the factory firmware plus 2 user updates.</p>
<p>After reset, if <code class="docutils literal notranslate"><span class="pre">GP28</span></code> is held high, the heartbeat LED will start flashing
slowly, if after 3 seconds the pin is still being held high, the LED will start
blinking a bit faster and the WiPy will select the previous user update to boot.
If the previous user update is the desired firmware image, <code class="docutils literal notranslate"><span class="pre">GP28</span></code> must be
released before 3 more seconds elapse. If 3 seconds later the pin is still high,
the factory firmware will be selected, the LED will flash quickly for 1.5 seconds
and the WiPy will proceed to boot. The firmware selection mechanism is as follows:</p>
<p><strong>Safe Boot Pin</strong> <code class="docutils literal notranslate"><span class="pre">GP28</span></code> <strong>released during:</strong></p>
<table>
<thead>
<tr class="row-odd"><th class="head"><p>1st 3 secs window</p></th>
<th class="head"><p>2nd 3 secs window</p></th>
<th class="head"><p>Final 1.5 secs window</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><div class="line-block">
<div class="line">Safe boot, <em>latest</em></div>
<div class="line">firmware is selected</div>
</div>
</td>
<td><div class="line-block">
<div class="line">Safe boot, <em>previous</em></div>
<div class="line">user update selected</div>
</div>
</td>
<td><div class="line-block">
<div class="line">Safe boot, the <em>factory</em></div>
<div class="line">firmware is selected</div>
</div>
</td>
</tr>
</tbody>
</table>
<p>On all of the above 3 scenarios, safe boot mode is entered, meaning that
the execution of both <code class="docutils literal notranslate"><span class="pre">boot.py</span></code> and <code class="docutils literal notranslate"><span class="pre">main.py</span></code> is skipped. This is
useful to recover from crash situations caused by the user scripts. The selection
made during safe boot is not persistent, therefore after the next normal reset
the latest firmware will run again.</p>
</section>
<section id="the-heartbeat-led">
<h2 id="the-heartbeat-led">The heartbeat LED<a class="headerlink" href="#the-heartbeat-led" title="Permalink to this heading">¶</a></h2>
<p>By default the heartbeat LED flashes once every 4s to signal that the system is
alive. This can be overridden through the <a class="reference internal" href="../library/wipy.html#module-wipy" title="wipy: WiPy specific features"><code class="xref py py-mod docutils literal notranslate"><span class="pre">wipy</span></code></a> module:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">wipy</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">wipy</span><span class="o">.</span><span class="n">heartbeat</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
<p>There are currently 2 kinds of errors that you might see:</p>
<ol class="arabic simple">
<li><p>If the heartbeat LED flashes quickly, then a Python script (eg <code class="docutils literal notranslate"><span class="pre">main.py</span></code>)
has an error.  Use the REPL to debug it.</p></li>
<li><p>If the heartbeat LED stays on, then there was a hard fault, you cannot
recover from this, the only way out is to press the reset switch.</p></li>
</ol>
</section>
<section id="details-on-sleep-modes">
<h2 id="details-on-sleep-modes">Details on sleep modes<a class="headerlink" href="#details-on-sleep-modes" title="Permalink to this heading">¶</a></h2>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">machine.idle()</span></code>: Power consumption: ~12mA (in WLAN STA mode). Wake sources:
any hardware interrupt (including systick with period of 1ms), no special
configuration required.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">machine.lightsleep()</span></code>: 950uA (in WLAN STA mode). Wake sources are <code class="docutils literal notranslate"><span class="pre">Pin</span></code>, <code class="docutils literal notranslate"><span class="pre">RTC</span></code>
and <code class="docutils literal notranslate"><span class="pre">WLAN</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">machine.deepsleep()</span></code>: ~350uA. Wake sources are <code class="docutils literal notranslate"><span class="pre">Pin</span></code> and <code class="docutils literal notranslate"><span class="pre">RTC</span></code>.</p></li>
</ul>
</section>
<section id="additional-details-for-machine-pin">
<h2 id="additional-details-for-machine-pin">Additional details for machine.Pin<a class="headerlink" href="#additional-details-for-machine-pin" title="Permalink to this heading">¶</a></h2>
<p>On the WiPy board the pins are identified by their string id:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">machine</span> <span class="k">import</span> <span class="n">Pin</span>
<span class="n">g</span> <span class="o">=</span> <span class="n">machine</span><span class="o">.</span><span class="n">Pin</span><span class="p">(</span><span class="s1">'GP9'</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="n">Pin</span><span class="o">.</span><span class="n">OUT</span><span class="p">,</span> <span class="n">pull</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">drive</span><span class="o">=</span><span class="n">Pin</span><span class="o">.</span><span class="n">MED_POWER</span><span class="p">,</span> <span class="n">alt</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
<p>You can also configure the Pin to generate interrupts. For instance:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">machine</span> <span class="k">import</span> <span class="n">Pin</span>

<span class="k">def</span> <span class="nf">pincb</span><span class="p">(</span><span class="n">pin</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">pin</span><span class="o">.</span><span class="n">id</span><span class="p">())</span>

<span class="n">pin_int</span> <span class="o">=</span> <span class="n">Pin</span><span class="p">(</span><span class="s1">'GP10'</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="n">Pin</span><span class="o">.</span><span class="n">IN</span><span class="p">,</span> <span class="n">pull</span><span class="o">=</span><span class="n">Pin</span><span class="o">.</span><span class="n">PULL_DOWN</span><span class="p">)</span>
<span class="n">pin_int</span><span class="o">.</span><span class="n">irq</span><span class="p">(</span><span class="n">trigger</span><span class="o">=</span><span class="n">Pin</span><span class="o">.</span><span class="n">IRQ_RISING</span><span class="p">,</span> <span class="n">handler</span><span class="o">=</span><span class="n">pincb</span><span class="p">)</span>
<span class="c1"># the callback can be triggered manually</span>
<span class="n">pin_int</span><span class="o">.</span><span class="n">irq</span><span class="p">()()</span>
<span class="c1"># to disable the callback</span>
<span class="n">pin_int</span><span class="o">.</span><span class="n">irq</span><span class="p">()</span><span class="o">.</span><span class="n">disable</span><span class="p">()</span>
</pre></div>
</div>
<p>Now every time a falling edge is seen on the gpio pin, the callback will be
executed. Caution: mechanical push buttons have “bounce” and pushing or
releasing a switch will often generate multiple edges.
See: <a class="reference external" href="http://www.eng.utah.edu/~cs5780/debouncing.pdf">http://www.eng.utah.edu/~cs5780/debouncing.pdf</a> for a detailed
explanation, along with various techniques for debouncing.</p>
<p>All pin objects go through the pin mapper to come up with one of the
gpio pins.</p>
<p>For the <code class="docutils literal notranslate"><span class="pre">drive</span></code> parameter the strengths are:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">Pin.LOW_POWER</span></code> - 2mA drive capability.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Pin.MED_POWER</span></code> - 4mA drive capability.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Pin.HIGH_POWER</span></code> - 6mA drive capability.</p></li>
</ul>
</div></blockquote>
<p>For the <code class="docutils literal notranslate"><span class="pre">alt</span></code> parameter please refer to the pinout and alternate functions
table at &lt;<a class="reference external" href="https://raw.githubusercontent.com/wipy/wipy/master/docs/PinOUT.png">https://raw.githubusercontent.com/wipy/wipy/master/docs/PinOUT.png</a>&gt;`_
for the specific alternate functions that each pin supports.</p>
<p>For interrupts, the <code class="docutils literal notranslate"><span class="pre">priority</span></code> can take values in the range 1-7.  And the
<code class="docutils literal notranslate"><span class="pre">wake</span></code> parameter has the following properties:</p>
<blockquote>
<div><ul class="simple">
<li><p>If <code class="docutils literal notranslate"><span class="pre">wake_from=machine.Sleep.ACTIVE</span></code> any pin can wake the board.</p></li>
<li><p>If <code class="docutils literal notranslate"><span class="pre">wake_from=machine.Sleep.SUSPENDED</span></code> pins <code class="docutils literal notranslate"><span class="pre">GP2</span></code>, <code class="docutils literal notranslate"><span class="pre">GP4</span></code>, <code class="docutils literal notranslate"><span class="pre">GP10</span></code>,
<code class="docutils literal notranslate"><span class="pre">GP11</span></code>, GP17`` or <code class="docutils literal notranslate"><span class="pre">GP24</span></code> can wake the board. Note that only 1
of this pins can be enabled as a wake source at the same time, so, only
the last enabled pin as a <code class="docutils literal notranslate"><span class="pre">machine.Sleep.SUSPENDED</span></code> wake source will have effect.</p></li>
<li><p>If <code class="docutils literal notranslate"><span class="pre">wake_from=machine.Sleep.SUSPENDED</span></code> pins <code class="docutils literal notranslate"><span class="pre">GP2</span></code>, <code class="docutils literal notranslate"><span class="pre">GP4</span></code>, <code class="docutils literal notranslate"><span class="pre">GP10</span></code>,
<code class="docutils literal notranslate"><span class="pre">GP11</span></code>, <code class="docutils literal notranslate"><span class="pre">GP17</span></code> and <code class="docutils literal notranslate"><span class="pre">GP24</span></code> can wake the board. In this case all of the
6 pins can be enabled as a <code class="docutils literal notranslate"><span class="pre">machine.Sleep.HIBERNATE</span></code> wake source at the same time.</p></li>
</ul>
</div></blockquote>
<p>Additional Pin methods:</p>
<dl class="py method">
<dt class="sig sig-object py" id="machine.Pin.alt_list">
<span class="sig-prename descclassname"><span class="pre">machine.Pin.</span></span><span class="sig-name descname"><span class="pre">alt_list</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#machine.Pin.alt_list" title="永久链接至目标">¶</a></dt>
<dd><p>Returns a list of the alternate functions supported by the pin. List items are
a tuple of the form: <code class="docutils literal notranslate"><span class="pre">('ALT_FUN_NAME',</span> <span class="pre">ALT_FUN_INDEX)</span></code></p>
</dd></dl>
</section>
<section id="additional-details-for-machine-i2c">
<h2 id="additional-details-for-machine-i2c">Additional details for machine.I2C<a class="headerlink" href="#additional-details-for-machine-i2c" title="Permalink to this heading">¶</a></h2>
<p>On the WiPy there is a single hardware I2C peripheral, identified by “0”.  By
default this is the peripheral that is used when constructing an I2C instance.
The default pins are GP23 for SCL and GP13 for SDA, and one can create the
default I2C peripheral simply by doing:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">i2c</span> <span class="o">=</span> <span class="n">machine</span><span class="o">.</span><span class="n">I2C</span><span class="p">()</span>
</pre></div>
</div>
<p>The pins and frequency can be specified as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">i2c</span> <span class="o">=</span> <span class="n">machine</span><span class="o">.</span><span class="n">I2C</span><span class="p">(</span><span class="n">freq</span><span class="o">=</span><span class="mi">400000</span><span class="p">,</span> <span class="n">scl</span><span class="o">=</span><span class="s1">'GP23'</span><span class="p">,</span> <span class="n">sda</span><span class="o">=</span><span class="s1">'GP13'</span><span class="p">)</span>
</pre></div>
</div>
<p>Only certain pins can be used as SCL/SDA.  Please refer to the pinout for further
information.</p>
</section>
<section id="known-issues">
<h2 id="known-issues">Known issues<a class="headerlink" href="#known-issues" title="Permalink to this heading">¶</a></h2>
<section id="incompatible-way-to-create-ssl-sockets">
<h3 id="incompatible-way-to-create-ssl-sockets">Incompatible way to create SSL sockets<a class="headerlink" href="#incompatible-way-to-create-ssl-sockets" title="Permalink to this heading">¶</a></h3>
<p>SSL sockets need to be created the following way before wrapping them with.
<code class="docutils literal notranslate"><span class="pre">ssl.wrap_socket</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">socket</span>
<span class="kn">import</span> <span class="nn">ssl</span>
<span class="n">s</span> <span class="o">=</span> <span class="n">socket</span><span class="p">(</span><span class="n">socket</span><span class="o">.</span><span class="n">AF_INET</span><span class="p">,</span> <span class="n">socket</span><span class="o">.</span><span class="n">SOCK_STREAM</span><span class="p">,</span> <span class="n">socket</span><span class="o">.</span><span class="n">IPPROTO_SEC</span><span class="p">)</span>
<span class="n">ss</span> <span class="o">=</span> <span class="n">ssl</span><span class="o">.</span><span class="n">wrap_socket</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
</pre></div>
</div>
<p>Certificates must be used in order to validate the other side of the connection, and also to
authenticate ourselves with the other end. Such certificates must be stored as files using the
FTP server, and they must be placed in specific paths with specific names.</p>
<ul class="simple">
<li><p>The certificate to validate the other side goes in: <strong>‘/flash/cert/ca.pem’</strong></p></li>
<li><p>The certificate to authenticate ourselves goes in: <strong>‘/flash/cert/cert.pem’</strong></p></li>
<li><p>The key for our own certificate goes in: <strong>‘/flash/cert/private.key’</strong></p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">备注</p>
<p>When these files are stored, they are placed inside the internal <strong>hidden</strong> file system
(just like firmware updates), and therefore they are never visible.</p>
</div>
<p>For instance to connect to the Blynk servers using certificates, take the file <code class="docutils literal notranslate"><span class="pre">ca.pem</span></code> located
in the <a class="reference external" href="https://github.com/wipy/wipy/tree/master/examples/blynk">blynk examples folder</a>.
and put it in ‘/flash/cert/’. Then do:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">socket</span>
<span class="kn">import</span> <span class="nn">ssl</span>
<span class="n">s</span> <span class="o">=</span> <span class="n">socket</span><span class="o">.</span><span class="n">socket</span><span class="p">(</span><span class="n">socket</span><span class="o">.</span><span class="n">AF_INET</span><span class="p">,</span> <span class="n">socket</span><span class="o">.</span><span class="n">SOCK_STREAM</span><span class="p">,</span> <span class="n">socket</span><span class="o">.</span><span class="n">IPPROTO_SEC</span><span class="p">)</span>
<span class="n">ss</span> <span class="o">=</span> <span class="n">ssl</span><span class="o">.</span><span class="n">wrap_socket</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">cert_reqs</span><span class="o">=</span><span class="n">ssl</span><span class="o">.</span><span class="n">CERT_REQUIRED</span><span class="p">,</span> <span class="n">ca_certs</span><span class="o">=</span><span class="s1">'/flash/cert/ca.pem'</span><span class="p">)</span>
<span class="n">ss</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">socket</span><span class="o">.</span><span class="n">getaddrinfo</span><span class="p">(</span><span class="s1">'cloud.blynk.cc'</span><span class="p">,</span> <span class="mi">8441</span><span class="p">)[</span><span class="mi">0</span><span class="p">][</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
</pre></div>
</div>
</section>
<section id="incompatibilities-in-hashlib-module">
<h3 id="incompatibilities-in-hashlib-module">Incompatibilities in hashlib module<a class="headerlink" href="#incompatibilities-in-hashlib-module" title="Permalink to this heading">¶</a></h3>
<p>Due to hardware implementation details of the WiPy, data must be buffered before being
digested, which would make it impossible to calculate the hash of big blocks of data that
do not fit in RAM. In this case, since most likely the total size of the data is known
in advance, the size can be passed to the constructor and hence the HASH hardware engine
of the WiPy can be properly initialized without needing buffering. If <code class="docutils literal notranslate"><span class="pre">block_size</span></code> is
to be given, an initial chunk of <code class="docutils literal notranslate"><span class="pre">data</span></code> must be passed as well. <strong>When using this extension,
care must be taken to make sure that the length of all intermediate chunks (including the
initial one) is a multiple of 4 bytes.</strong> The last chunk may be of any length.</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">hash</span> <span class="o">=</span> <span class="n">hashlib</span><span class="o">.</span><span class="n">sha1</span><span class="p">(</span><span class="s1">'abcd1234'</span><span class="p">,</span> <span class="mi">1001</span><span class="p">)</span>    <span class="c1"># length of the initial piece is multiple of 4 bytes</span>
<span class="nb">hash</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="s1">'1234'</span><span class="p">)</span>                       <span class="c1"># also multiple of 4 bytes</span>
<span class="o">...</span>
<span class="nb">hash</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="s1">'12345'</span><span class="p">)</span>                      <span class="c1"># last chunk may be of any length</span>
<span class="nb">hash</span><span class="o">.</span><span class="n">digest</span><span class="p">()</span>
</pre></div>
</div>
</section>
<section id="unrelated-function-in-machine-module">
<h3 id="unrelated-function-in-machine-module">Unrelated function in machine module<a class="headerlink" href="#unrelated-function-in-machine-module" title="Permalink to this heading">¶</a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="main">
<span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#main" title="永久链接至目标">¶</a></dt>
<dd><p>Set the filename of the main script to run after boot.py is finished.  If
this function is not called then the default file main.py will be executed.</p>
<p>It only makes sense to call this function from within boot.py.</p>
</dd></dl>
</section>
<section id="adhoc-way-to-control-telnet-ftp-server-via-network-module">
<h3 id="adhoc-way-to-control-telnet-ftp-server-via-network-module">Adhoc way to control telnet/FTP server via network module<a class="headerlink" href="#adhoc-way-to-control-telnet-ftp-server-via-network-module" title="Permalink to this heading">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">Server</span></code> class controls the behaviour and the configuration of the FTP and telnet
services running on the WiPy. Any changes performed using this class’ methods will
affect both.</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">network</span>
<span class="n">server</span> <span class="o">=</span> <span class="n">network</span><span class="o">.</span><span class="n">Server</span><span class="p">()</span>
<span class="n">server</span><span class="o">.</span><span class="n">deinit</span><span class="p">()</span> <span class="c1"># disable the server</span>
<span class="c1"># enable the server again with new settings</span>
<span class="n">server</span><span class="o">.</span><span class="n">init</span><span class="p">(</span><span class="n">login</span><span class="o">=</span><span class="p">(</span><span class="s1">'user'</span><span class="p">,</span> <span class="s1">'password'</span><span class="p">),</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">600</span><span class="p">)</span>
</pre></div>
</div>
<dl class="py class">
<dt class="sig sig-object py" id="network.Server">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">network.</span></span><span class="sig-name descname"><span class="pre">Server</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">...</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#network.Server" title="永久链接至目标">¶</a></dt>
<dd><p>Create a server instance, see <code class="docutils literal notranslate"><span class="pre">init</span></code> for parameters of initialization.</p>
</dd></dl>
<dl class="py method">
<dt class="sig sig-object py" id="server.init">
<span class="sig-prename descclassname"><span class="pre">server.</span></span><span class="sig-name descname"><span class="pre">init</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">\*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">login=('micro'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">'python')</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeout=300</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#server.init" title="永久链接至目标">¶</a></dt>
<dd><p>Init (and effectively start the server). Optionally a new <code class="docutils literal notranslate"><span class="pre">user</span></code>, <code class="docutils literal notranslate"><span class="pre">password</span></code>
and <code class="docutils literal notranslate"><span class="pre">timeout</span></code> (in seconds) can be passed.</p>
</dd></dl>
<dl class="py method">
<dt class="sig sig-object py" id="server.deinit">
<span class="sig-prename descclassname"><span class="pre">server.</span></span><span class="sig-name descname"><span class="pre">deinit</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#server.deinit" title="永久链接至目标">¶</a></dt>
<dd><p>Stop the server</p>
</dd></dl>
<dl class="py method">
<dt class="sig sig-object py" id="server.timeout">
<span class="sig-prename descclassname"><span class="pre">server.</span></span><span class="sig-name descname"><span class="pre">timeout</span></span><span class="sig-paren">(</span><span class="optional">[</span><em class="sig-param"><span class="n"><span class="pre">timeout_in_seconds</span></span></em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#server.timeout" title="永久链接至目标">¶</a></dt>
<dd><p>Get or set the server timeout.</p>
</dd></dl>
<dl class="py method">
<dt class="sig sig-object py" id="server.isrunning">
<span class="sig-prename descclassname"><span class="pre">server.</span></span><span class="sig-name descname"><span class="pre">isrunning</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#server.isrunning" title="永久链接至目标">¶</a></dt>
<dd><p>Returns <code class="docutils literal notranslate"><span class="pre">True</span></code> if the server is running, <code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise.</p>
</dd></dl>
</section>
<section id="adhoc-vfs-like-support">
<h3 id="adhoc-vfs-like-support">Adhoc VFS-like support<a class="headerlink" href="#adhoc-vfs-like-support" title="Permalink to this heading">¶</a></h3>
<p>WiPy doesn’t implement full MicroPython VFS support, instead following
functions are defined in <code class="docutils literal notranslate"><span class="pre">os</span></code> module:</p>
<dl class="py function">
<dt class="sig sig-object py" id="mount">
<span class="sig-name descname"><span class="pre">mount</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">block_device</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mount_point</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">\*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">readonly=False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mount" title="永久链接至目标">¶</a></dt>
<dd><p>Mounts a block device (like an <code class="docutils literal notranslate"><span class="pre">SD</span></code> object) in the specified mount
point. Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">os</span><span class="o">.</span><span class="n">mount</span><span class="p">(</span><span class="n">sd</span><span class="p">,</span> <span class="s1">'/sd'</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>
<dl class="py function">
<dt class="sig sig-object py" id="unmount">
<span class="sig-name descname"><span class="pre">unmount</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#unmount" title="永久链接至目标">¶</a></dt>
<dd><p>Unmounts a previously mounted block device from the given path.</p>
</dd></dl>
<dl class="py function">
<dt class="sig sig-object py" id="mkfs">
<span class="sig-name descname"><span class="pre">mkfs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">block_device</span> <span class="pre">or</span> <span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mkfs" title="永久链接至目标">¶</a></dt>
<dd><p>Formats the specified path, must be either <code class="docutils literal notranslate"><span class="pre">/flash</span></code> or <code class="docutils literal notranslate"><span class="pre">/sd</span></code>.
A block device can also be passed like an <code class="docutils literal notranslate"><span class="pre">SD</span></code> object before
being mounted.</p>
</dd></dl>
</section>
</section>
</section>


          </article>
        </div>
      </div>
    </main>
  </div>
  <footer class="md-footer">
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
          
            <a href="quickref.html" title="Quick reference for the WiPy"
               class="md-flex md-footer-nav__link md-footer-nav__link--prev"
               rel="prev">
              <div class="md-flex__cell md-flex__cell--shrink">
                <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
              </div>
              <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
                <span class="md-flex__ellipsis">
                  <span
                      class="md-footer-nav__direction"> Previous </span> Quick reference for the WiPy </span>
              </div>
            </a>
          
          
            <a href="tutorial/index.html" title="WiPy tutorials and examples"
               class="md-flex md-footer-nav__link md-footer-nav__link--next"
               rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title"><span
                class="md-flex__ellipsis"> <span
                class="md-footer-nav__direction"> Next </span> WiPy tutorials and examples </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink"><i
                class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          
        </a>
        
      </nav>
    </div>
    <div class="md-footer-meta md-typeset">
      <div class="md-footer-meta__inner md-grid">
        <div class="md-footer-copyright">
          <div class="md-footer-copyright__highlight">
              &#169; Copyright - The MicroPython Documentation is Copyright © 2014-2022, Damien P. George, Paul Sokolovsky, and contributors.
              
          </div>
            Last updated on
              07 7月 2022.
            <br/>
            Created using
            <a href="http://www.sphinx-doc.org/">Sphinx</a> 5.0.2.
             and
            <a href="https://github.com/bashtage/sphinx-material/">Material for
              Sphinx</a>
        </div>
      </div>
    </div>
  </footer>
  <script src="../_static/javascripts/application.js"></script>
  <script>app.initialize({version: "1.0.4", url: {base: ".."}})</script>
  </body>
</html>